# context from this file (optional, default: '.')
context = '.'

# default task group to execute (optional)
default = 'foo'

{
    # task groups (at least one)
    'foo': {
        'dependencies': ['bar'],
        'tasks': [{
            'run': command(['ls']),
        }, {
            'run': command(['ls', '-l']),
        }, {
            'run': copy(path('a', 'b'), path('c', 'd')),
        }],
    },

    'bar': {
        'tasks': [{
            'run': command(['ls'])
        }],
    },

    'simple': {
        'tasks': [
            command('ls -l'),
            copy(path('a', 'b'), path('c', 'd')),
            remove(path('a', 'b'), path('c', 'd')),
        ],
    },

    'shorten': [
        command('ls -l'),
        {
            'run': command('ls -l'),
        },
    ],

    'pipe': [{
        'run': command('echo foo'),
        'stdout': 'PIPE_OUTPUT',
    }, {
        'run': command('cat'),
        'input': 'PIPE_OUTPUT',
    }],

    'pipe2': {
        'dependencies': ['pipe'],
        'tasks': [{
            'run': command('echo', inputs_as_args=True),
            'input': ('pipe', 'PIPE_OUTPUT'),
        }],
    },

    'args': [{
        'run': command(['echo',
                        env('ENV1'),
                        env('ENV2', default='foo'),
                        env('ENV3', allow_empty=True),
                        ]),
    }, {
        'run': command(['echo',
                        arg('ARG1'),
                        arg('ARG2', default='bar'),
                        arg('ARG3', allow_empty=True),
                        ]),
    }],
}
